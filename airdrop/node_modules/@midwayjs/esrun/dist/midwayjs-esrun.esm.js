import { readDefaultTsConfig } from '@swc-node/register/read-default-tsconfig'
import { register as register$1 } from '@swc-node/register/register'

function register() {
  const options = readDefaultTsConfig()

  // ensure all files are compiled
  options.files = null
  // transpile to CommonJS by Default
  options.module = 'CommonJS'

  register$1(options)

  if (options.paths && Object.keys(options.paths).length) {
    require('tsconfig-paths/register')
  }
}

export { register }
